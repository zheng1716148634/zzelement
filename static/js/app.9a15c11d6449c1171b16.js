webpackJsonp([1],{F5BP:function(t,e){},HIb2:function(t,e){},IVkF:function(t,e){},Jrnz:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("kV13"),n=a("4YfN"),o=a.n(n),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var c=a("C7Lr")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},i,!1,function(t){a("tGEK")},"data-v-d8ec41bc",null).exports,l=a("fUgm"),r={name:"App",components:{HelloWorld:c},data:function(){return{activeIndex2:"/all",isShowMsg:!0,accesstoken:"",isShowToast:!1,toastText:"",dialogTableVisible:!1,dialogFormVisible:!1,userInfo:null,collect_topics:[],form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},created:function(){if(window.localStorage.getItem("loginStatus")&&(this.mutationLogin(),this.mutationLoginname(window.localStorage.getItem("loginname")),this.mutationAccesstoken(window.localStorage.getItem("accesstoken")),this.mutationAuthorId(window.localStorage.getItem("author_id"))),this.isLogined){this.getUnreadmMsgCount();var t=this;window.setInterval(function(){t.getUnreadmMsgCount()},3e5)}},beforeRouteEnter:function(t,e,a){a(function(e){e.$http.get("/user/"+t.params.loginname).then(function(t){console.log(t.data),e.userInfo=t.data.data}),e.$http.get("/topic_collect/"+t.params.loginname).then(function(t){console.log(t.data),e.collect_topics=t.data.data})})},beforeRouteUpdate:function(t,e,a){this.$http.get("/user/"+t.params.loginname).then(function(t){console.log(t.data),that.userInfo=t.data.data}),this.$http.get("/topic_collect/"+t.params.loginname).then(function(t){console.log(t.data),vm.collect_topics=t.data.data}),a()},computed:o()({},Object(l.d)(["topics","isLogined","loginname"])),methods:o()({getUnreadmMsgCount:function(){var t=this;this.$http.get("/message/count",{params:{accesstoken:this.$store.state.accesstoken}}).then(function(e){console.log(e.data.data),e.data&&e.data.success&&(t.badgeText=e.data.data)})},handleSelect:function(t,e){console.log(t,e),this.$router.push(""+e)}},Object(l.c)(["mutationLogin","mutationLoginname","mutationAccesstoken","mutationAuthorId"]),{dologin:function(){var t=this;this.$http.post("/accesstoken",{accesstoken:this.accesstoken}).then(function(e){console.log(e.data),t.mutationLogin(),t.mutationLoginname(e.data.loginname),t.mutationAccesstoken(t.accesstoken),t.mutationAuthorId(e.data.id),window.localStorage.setItem("loginStatus",!0),window.localStorage.setItem("loginname",e.data.loginname),window.localStorage.setItem("accesstoken",t.accesstoken),window.localStorage.setItem("author_id",e.data.id),t.$router.push("/user/"+e.data.loginname)}).catch(function(e){t.isShowToast=!0,t.toastText=e.response.data.error_msg})},open:function(){var t=this;this.$prompt("请输入Access Token","提示",{confirmButtonText:"确定登录",cancelButtonText:"取消登录",confirmButtonClass:"dologin",inputPattern:"isShowToast",inputErrorMessage:"Access Token格式不正确"}).then(function(e){var a=e.value;t.$message({type:"success",message:"Access Token: "+a})}).catch(function(){t.$message({type:"info",message:"取消登录"})})}})},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-container",[a("el-header",[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex2,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},[a("el-image",{staticClass:"zz",attrs:{src:"https://static2.cnodejs.org/public/images/cnodejs_light.svg"}}),t._v(" "),a("el-menu-item",{staticClass:"nav",attrs:{index:"/topiclist/all"}},[t._v("全部")]),t._v(" "),a("el-menu-item",{attrs:{index:"/topiclist/good"}},[t._v("精华")]),t._v(" "),a("el-menu-item",{attrs:{index:"/topiclist/share"}},[t._v("分享")]),t._v(" "),a("el-menu-item",{attrs:{index:"/topiclist/ask"}},[t._v("问答")]),t._v(" "),a("el-menu-item",{attrs:{index:"/topiclist/job"}},[t._v("招聘")]),t._v(" "),a("el-menu-item",{attrs:{index:"/topiclist/dev"}},[t._v("客户端测试")]),t._v(" "),0==t.isLogined?a("el-menu-item",{staticStyle:{"margin-left":"500px"},attrs:{index:"/"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("登录")]):a("el-submenu",{staticStyle:{"margin-left":"500px"},attrs:{index:""}},[a("template",{slot:"title"},[t._v("\n              "+t._s(t.loginname)+"\n              "),t.badgeText?a("el-badge",{staticClass:"item",attrs:{value:t.badgeText}}):t._e()],1),t._v(" "),a("el-menu-item",{attrs:{index:"/center"}},[a("i",{staticClass:"el-icon-user-solid"}),t._v("个人中心\n            ")]),t._v(" "),a("el-menu-item",{attrs:{index:"/msg"}},[a("i",{staticClass:"el-icon-message-solid"}),t._v("消息通知\n            ")]),t._v(" "),a("el-menu-item",{attrs:{index:"/create"}},[a("i",{staticClass:"el-icon-s-comment"}),t._v("发表话题\n            ")]),t._v(" "),a("el-menu-item",{attrs:{index:"/logout"}},[a("i",{staticClass:"el-icon-s-home"}),t._v("退出\n\n            ")])],2),t._v(" "),a("el-dialog",{attrs:{title:"Access Token：",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}},model:{value:t.accesstoken,callback:function(e){t.accesstoken=e},expression:"accesstoken"}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"登录"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.accesstoken,callback:function(e){t.accesstoken=e},expression:"accesstoken"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}},nativeOn:{click:function(e){return t.dologin()}}},[t._v("确 定")])],1)],1)],1)],1),t._v(" "),a("el-container",[a("el-aside",[a("div",{attrs:{id:"aside"}},[a("div",{staticClass:"as aside1"},[a("span",[t._v("Conde社区")])]),t._v(" "),a("div",{staticClass:"as aside2"},[a("el-image",{staticClass:"zz",attrs:{src:"https://static2.cnodejs.org/public/images/cnodejs_light.svg"}})],1),t._v(" "),a("div",{staticClass:"as aside2"},[a("el-image",{staticClass:"zz",attrs:{src:"https://static2.cnodejs.org/public/images/cnodejs_light.svg"}})],1),t._v(" "),a("div",{staticClass:"as aside3"})])]),t._v(" "),a("el-main",[a("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(r,u,!1,function(t){a("ztBG")},null,null).exports,p=a("wUgx"),m={name:"topiclist",props:["name"],data:function(){return{lists:[],page:1,limit:15}},computed:o()({},Object(l.b)(["getTopicDescByTab"]),Object(l.d)(["topics"])),methods:{freshData:function(){var t=this;this.$http.get("/topics",{params:{tab:this.name,page:this.page,limit:this.limit}}).then(function(e){e.data&&e.data.success&&(t.page+=1,t.lists=e.data.data)})},freshData2:function(){var t=this;this.$http.get("/topics",{params:{tab:this.name,page:this.page,limit:this.limit}}).then(function(e){e.data&&e.data.success&&(t.page=-1,t.lists=e.data.data)})},handle:function(t,e,a){console.log(t,e,a),this.$router.push("/topic/"+t.id)},deleteRow:function(t,e){e.splice(t,1)},routeto:function(t){console.log(t),this.$router.push("/topiclist/"+this.topics[t].name)}},beforeRouteEnter:function(t,e,a){a(function(e){e.$http.get("/topics",{params:{tab:t.params.name,page:e.page,limit:e.limit}}).then(function(t){console.log(t),t.data.success&&(e.lists=t.data.data)})})},beforeRouteUpdate:function(t,e,a){var s=this;this.page=1,this.$http.get("/topics",{params:{tab:t.params.name,page:this.page,limit:this.limit}}).then(function(t){t.data.success&&(console.log(t.data.success),s.lists=t.data.data)}),a()}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists},on:{"row-click":t.handle}},[a("el-table-column",{attrs:{label:"头像",width:"70"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"red"},[a("el-avatar",{attrs:{shape:"square",size:40,src:t.row.author.avatar_url}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"阅读",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("阅读量: "+t._s(e.row.reply_count))]),t._v(" "),a("p",[t._v("阅读数: "+t._s(e.row.visit_count))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.reply_count)+" / "+t._s(e.row.visit_count))])],1)])]}}])}),t._v(" "),"/topiclist/all"==t.$route.path||"/toplist/good"==t.$route.path?a("el-table-column",{attrs:{label:"标志",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.top?a("el-tag",{attrs:{type:"success"}},[t._v("置顶")]):e.row.good?a("el-tag",{attrs:{type:"success"}},[t._v("精华")]):"/topiclist/all"==t.$route.path||"/toplist/good"==t.$route.path?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(t.getTopicDescByTab(e.row.tab)))]):t._e()]}}],null,!1,4099582080)}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"标题",prop:"title",width:"700"}}),t._v(" "),a("el-table-column",{attrs:{label:"查看"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"red"},[a("el-avatar",{attrs:{shape:"square",size:20,src:e.row.author.avatar_url}}),t._v(" "),a("span",{staticClass:"time"},[t._v("2018-19-19")])],1)]}}])})],1),t._v(" "),a("div",{attrs:{id:"fenpage"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next"},on:{"prev-click":t.freshData2,"next-click":t.freshData}})],1)],1)},staticRenderFns:[]};var v=a("C7Lr")(m,h,!1,function(t){a("YZG1")},null,null).exports,g={name:"topic",props:["id"],components:{},data:function(){return{topic:null,list:["强"],replyContent:""}},methods:{addReply:function(t){this.$http.post("/topic/"+this.topic.id+"/replies",{accesstoken:this.$route.state.accesstoken,content:this.replyContent}).then(function(t){})},collect:function(){var t=this;this.$http.post("/topic_collect/collect",{accesstoken:this.$store.state.accesstoken,topic_id:this.topic.id}).then(function(e){console.log(e),e.data&&e.data.success&&(t.topic.is_collect=!0)})},decollect:function(){var t=this;this.$http.post("/topic_collect/de_collect",{accesstoken:this.$store.state.accesstoken,topic_id:this.topic.id}).then(function(e){console.log(e.data),e.data&&e.data.success&&(t.topic.is_collect=!1)})}},computed:o()({},Object(l.d)(["isLogined"])),beforeRouteEnter:function(t,e,a){a(function(e){e.$http.get("/topic/"+t.params.id,{params:{accesstoken:e.$store.state.accesstoken}}).then(function(t){e.topic=t.data.data})})},beforeRouteUpdate:function(t,e,a){var s=this;this.$http.get("/topic/"+t.params.id,{params:{accesstoken:this.$store.state.accesstoken}}).then(function(t){console.log(t.data.data),s.topic=t.data.data})}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"hh1"},[t._v(t._s(t.topic.title))]),t._v(" "),a("el-row",{nativeOn:{click:function(e){return t.collect(e)}}},[a("span",{staticClass:"span11"},[t._v("\n        作者：\n        "),a("a",{attrs:{href:"/#/user/"+t.topic.author.loginname}},[t._v(t._s(t.topic.author.loginname))])]),t._v(" "),a("span",{staticClass:"span11"},[t._v(t._s(t.topic.visit_count)+" 次浏览")]),t._v(" "),a("span",{staticClass:"span11"},[t._v("来自于："+t._s(t.topic.tab))]),t._v(" "),0==t.topic.is_collect?a("el-button",{attrs:{type:"success",size:"small",width:"20px"},nativeOn:{click:function(e){return t.collect(e)}}},[t._v("收藏")]):a("el-button",{attrs:{type:"success",size:"small",width:"20px"},nativeOn:{click:function(e){return t.decollect(e)}}},[t._v("取消收藏")]),t._v(" "),t.topic.author_id==t.$store.state.author_id?a("a",{attrs:{href:"#/topic/"+t.topic.id+"/edit"}},[t._v("编辑")]):t._e()],1),t._v(" "),a("el-divider"),t._v(" "),a("section",{staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.topic.content)}})],1)},staticRenderFns:[]};var _=a("C7Lr")(g,f,!1,function(t){a("kbi4")},null,null).exports,b={name:"login",components:{},data:function(){return{accesstoken:"",isShowToast:!1,toastText:""}},methods:{dologin:function(){var t=this;this.$http.post("/accesstoken",{accesstoken:this.accesstoken}).then(function(e){console.log(e.data),t.mutationLogin(),t.mutationLoginname(e.data.loginname),t.mutationAccesstoken(t.accesstoken),t.mutationAuthorId(e.data.id),window.localStorage.setItem("loginStatus",!0),window.localStorage.setItem("loginname",e.data.loginname),window.localStorage.setItem("accesstoken",t.accesstoken),window.localStorage.setItem("author_id",e.data.id),t.$router.push("/user/"+e.data.loginname)}).catch(function(e){t.isShowToast=!0,t.toastText=e.response.data.error_msg})},open:function(){var t=this;this.$prompt("请输入Access Token","提示",{confirmButtonText:"确定登录",cancelButtonText:"取消登录",confirmButtonClass:"dologin",inputPattern:"isShowToast",inputErrorMessage:"Access Token格式不正确"}).then(function(e){var a=e.value;t.$message({type:"success",message:"Access Token: "+a})}).catch(function(){t.$message({type:"info",message:"取消登录"})})}}},k={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-button",{attrs:{type:"text"},on:{click:t.open},model:{value:t.accesstoken,callback:function(e){t.accesstoken=e},expression:"accesstoken"}},[t._v("Access Token：登录")])},staticRenderFns:[]};var x=a("C7Lr")(b,k,!1,function(t){a("thtC")},null,null).exports,C={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:""}},[this._v("\n\tCenter page\n")])},staticRenderFns:[]};var $=a("C7Lr")({name:"center",computed:{loginname:function(){return this.$store.state.loginname}},created:function(){this.$router.replace("/user/"+this.loginname)}},C,!1,function(t){a("n+5z")},null,null).exports,w={name:"user",props:["loginname"],components:{},data:function(){return{userInfo:null,collect_topics:[]}},beforeRouteEnter:function(t,e,a){a(function(e){e.$http.get("/user/"+t.params.loginname).then(function(t){console.log(t.data),e.userInfo=t.data.data}),e.$http.get("/topic_collect/"+t.params.loginname).then(function(t){console.log(t.data),e.collect_topics=t.data.data})})},beforeRouteUpdate:function(t,e,a){this.$http.get("/user/"+t.params.loginname).then(function(t){console.log(t.data),that.userInfo=t.data.data}),this.$http.get("/topic_collect/"+t.params.loginname).then(function(t){console.log(t.data),vm.collect_topics=t.data.data}),a()}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.userInfo?a("div",[a("el-card",{staticClass:"box-card",staticStyle:{width:"1080px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card",staticStyle:{float:"left"}},[t._v("主页")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-col",{attrs:{span:15}},[a("div",{staticClass:"demo-basic--circle"},[a("div",{staticClass:"block"},[a("el-avatar",{attrs:{shape:"square",size:150}}),t._v(" "),a("div",[a("span",{staticClass:"name-z"},[t._v("用户名:"+t._s(t.loginname))])]),t._v(" "),a("div",[a("p",{staticClass:"name-z"},[t._v("积分:"+t._s(t.userInfo.score))])]),t._v(" "),a("div",[a("p",{staticClass:"name-z"},[a("a",{attrs:{href:"/#/collect/"+t.loginname}},[t._v(t._s(t.collect_topics.length)+"个话题被收藏")])])]),t._v(" "),a("p",{staticClass:"name-z"},[a("a",{attrs:{href:"https://github.com/"+t.userInfo.githubUsername}},[t._v("\n\t\t\t\t\t\t\t\t@ "+t._s(t.userInfo.githubUsername)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),a("p",{staticClass:"name-z"},[t._v("\n\t\t\t\t\t\t\t注册时间:2018-09-19\n\t\t\t\t\t\t")])],1)])])],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card",staticStyle:{float:"left"}},[t._v("最近创建的话题")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-col",{attrs:{span:15}},[a("div",{staticClass:"demo-basic--circle"},[a("div",{staticClass:"block"},t._l(t.userInfo.recent_topics,function(e,s){return a("div",{key:s},[a("el-link",{attrs:{href:"#/topic/"+e.id}},[t._v(t._s(e.title))]),t._v(" "),a("el-divider")],1)}),0)])])],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card",staticStyle:{float:"left"}},[t._v("最近参与的话题")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-col",{attrs:{span:15}},[a("div",{staticClass:"demo-basic--circle"},[a("div",{staticClass:"block"},t._l(t.userInfo.recent_replies,function(e,s){return a("div",{key:s},[a("el-link",{attrs:{href:"#/topic/"+e.id}},[t._v(t._s(e.title))]),t._v(" "),a("el-divider")],1)}),0)])])],1)])],1):t._e()},staticRenderFns:[]};var S=a("C7Lr")(w,y,!1,function(t){a("HIb2")},null,null).exports,I={components:{name:"logout"},data:function(){return{isShowMsg:flase}},created:function(){var t=this;if(0!=this.$store.state.isLogined){this.$confirm("此操作将退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.localStorage.clear(),t.$store.commit("mutationLogout"),t.$router.push("/"),t.$message({type:"success",message:"退出成功!"})}).catch(function(){t.$router.push("/"),t.$message({type:"info",message:"已取消"})})}else this.isShowMsg=!0},methods:{}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return this.isShowMsg?e("h5",[this._v("tuichu")]):this._e()},staticRenderFns:[]};var L=a("C7Lr")(I,T,!1,function(t){a("Jrnz")},null,null).exports,M={data:function(){return{activeName:"weidu",selectedTabIndex:0,hasReadMsg:null,hasNotReadMsg:null}},created:function(){var t=this;this.$http.get("/messages",{params:{accesstoken:this.$store.state.accesstoken}}).then(function(e){console.log(e.data),t.hasReadMsg=e.data.data.has_read_messages,t.hasNotReadMsg=e.data.data.hasnot_read_messages})},methods:{handleClick:function(t,e){console.log(t,e)},markRead:function(t){console.log(t);var e=this;this.$http.post("/message/mark_one/"+t,{accesstoken:this.$store.state.accesstoken}).then(function(t){t.data&&t.data.success&&(console.log("标记已读成功！"),e.$router.go(0))})},markAll:function(){var t=this;this.$http.post("/message/mark_all",{accesstoken:this.$store.state.accesstoken}).then(function(e){e.data&&e.data.success&&t.$router.go(0)})}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"未读消息",name:"weidu"}},[t.hasNotReadMsg&&t.hasNotReadMsg.length>0?a("el-button",{attrs:{type:"success",plain:"",href:""},on:{click:function(e){return e.preventDefault(),t.markAll(e)}}},[t._v("全部标记已读")]):a("el-tag",[a("i",{staticClass:"el-icon-info"},[t._v("暂无消息")])]),t._v(" "),t._l(t.hasNotReadMsg,function(e,s){return a("div",{key:s,staticClass:"text item"},[a("div",{staticStyle:{padding:"10px 10px"}},[a("a",{attrs:{href:"/#/user/"+e.author.loginname}},[t._v(t._s(e.author.loginname))]),t._v("回复了您的话题\n        "),a("a",{attrs:{href:"/#/topic/"+e.topic.id}},[t._v(t._s(e.topic.title))])])])})],2),t._v(" "),a("el-tab-pane",{attrs:{label:"已读消息",name:"yidu"}},[t.hasReadMsg&&t.hasReadMsg.length>0?a("el-tag",[a("i",{staticClass:"el-icon-success"},[t._v("已读消息")])]):t._e(),t._v(" "),t._l(t.hasReadMsg,function(e,s){return a("div",{key:s,staticClass:"text item"},[a("div",{staticStyle:{padding:"10px 10px"}},[a("a",{attrs:{href:"/#/user/"+e.author.loginname}},[t._v(t._s(e.author.loginname))]),t._v("回复了您的话题\n        "),a("a",{attrs:{href:"/#/topic/"+e.topic.id}},[t._v(t._s(e.topic.title))])])])})],2)],1)],1)},staticRenderFns:[]};var E=a("C7Lr")(M,R,!1,function(t){a("jGie")},null,null).exports,j=a("J4Ko"),A=(a("bZrT"),{name:"create",components:{mavonEditor:j.mavonEditor},data:function(){return{select:"",input1:"",title:"",content:"",value:"请选择",list:["请选择","测试","分享","问答","招聘"],toolbars:{bold:!0,italic:!0,header:!0,underline:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,htmlcode:!0,help:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},methods:{uploadImg:function(t,e){console.log(t),console.log(e);var a=new FormData;a.append("smfile",file),axios.post("https://sm.ms/api/v2/upload",a,{headers:{"Content-type":"multipart/form-data"}}).then(function(e){this.$refs.md.$img2Url(t,e.data.data.url)})},addContent:function(){this.$http.post("topics",{title:this.title,content:this.content,tab:"dev",accesstoken:this.$store.state.accesstoken}).then(function(){1==res.data.seccess&&that.$router.replace("/topic/"+res.data.topic_id)})}}}),F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",staticStyle:{width:"1080px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("span",[t._v("选择板块:")]),t._v(" "),a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"请选择",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"分享",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"问答",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"招聘",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"客户端测试",value:"5"}})],1)],1),t._v(" "),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"标题字数10位以上"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}}),t._v(" "),a("mavon-editor",{attrs:{toolbars:t.toolbars},on:{imgAdd:t.uploadImg},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)},staticRenderFns:[]};var z=a("C7Lr")(A,F,!1,function(t){a("IVkF")},null,null).exports,B={name:"edit",props:["id"],data:function(){return{input:"",textarea:"",topic:{title:"",content:""},value:"客户端测试",list:["请选择","分享","问答","招聘","客户端测试"],toolbars:{bold:!0,italic:!0,header:!0,underline:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,htmlcode:!0,help:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},components:{mavonEditor:j.mavonEditor},methods:{edittopic:function(){var t=this;this.$http.post("/topic/update",{topic_id:this.topic.id,title:this.topic.title,content:this.topic.content,accesstoken:this.$store.state.accesstoken,tab:"dev"}).then(function(e){t.$router.back()})}},beforeRouteEnter:function(t,e,a){a(function(e){e.$http.get("/topic/"+t.params.id).then(function(t){console.log(t.data),e.topic=t.data.data})})},beforeRouteUpdate:function(t,e,a){var s=this;vm.$http.get("/topic/"+t.params.id).then(function(t){console.log(t.data),s.topic=t.data.data}),a()}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("编辑话题")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-input",{attrs:{placeholder:"新发表的话题",clearable:""},model:{value:t.topic.title,callback:function(e){t.$set(t.topic,"title",e)},expression:"topic.title"}})],1),t._v(" "),a("div",{staticClass:"text item"},[a("mavon-editor",{attrs:{toolbars:t.toolbars},model:{value:t.topic.content,callback:function(e){t.$set(t.topic,"content",e)},expression:"topic.content"}})],1),t._v(" "),a("div",{staticClass:"text item"},[a("el-button",{attrs:{type:"success"},nativeOn:{click:function(e){return t.edittopic(e)}}},[t._v("修改话题")])],1)])},staticRenderFns:[]};var D=a("C7Lr")(B,U,!1,function(t){a("F5BP")},null,null).exports;s.default.use(p.a);var N=new p.a({routes:[{path:"/",redirect:"/topiclist/all"},{path:"/topiclist/:name",name:"topiclist",component:v,props:!0},{path:"/topic/:id",name:"topic",component:_,props:!0},{path:"/login",name:"login",component:x},{path:"/center",name:"center",component:$},{path:"/user/:loginname",name:"user",component:S,props:!0},{path:"/logout",name:"logout",component:L},{path:"/create",name:"create",component:z},{path:"/msg",name:"msg",component:E},{path:"/topic/:id/edit",name:"edit",component:D,props:!0}]}),O=a("bQIR"),V=a.n(O),G=(a("gFLX"),{mutationIsShowMoreMenus:function(t,e){t.isShowMoreMenus=e},mutationLogin:function(t){t.isLogined=!0},mutationLoginname:function(t,e){t.loginname=e},mutationAccesstoken:function(t,e){t.accesstoken=e},mutationLogout:function(t){t.isLogined=!1,t.loginname="",t.accesstoken=""},mutationAuthorId:function(t,e){t.author_id=e}}),H={};s.default.use(l.a);var P=new l.a.Store({state:{topics:[{name:"all",desc:"全部"},{name:"good",desc:"精华"},{name:"share",desc:"分享"},{name:"ask",desc:"问答"},{name:"job",desc:"招聘"},{name:"dev",desc:"测试"}],unLoginedMoreMenus:{login:"登录"},loginedMoreMenus:{create:"发表新话题",center:"个人中心",msg:"消息通知",logout:"退出"},isLogined:!1,loginname:"",accesstoken:"",author_id:"",isShowMoreMenus:!1},getters:{moreMenus:function(t){return t.isLogined?t.loginedMoreMenus:t.unLoginedMoreMenus},getTopicDescByTab:function(t){return function(e){for(var a=0;a<t.topics.length;a++)if(t.topics[a].name==e)return t.topics[a].desc}}},mutations:G,actions:H}),q=a("I29D"),J=a.n(q).a.create({baseURL:"https://cnodejs.org/api/v1"});s.default.prototype.$http=J,s.default.use(V.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:N,store:P,components:{App:d},template:"<App/>"})},YZG1:function(t,e){},bZrT:function(t,e){},gFLX:function(t,e){},jGie:function(t,e){},kbi4:function(t,e){},"n+5z":function(t,e){},tGEK:function(t,e){},thtC:function(t,e){},ztBG:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9a15c11d6449c1171b16.js.map